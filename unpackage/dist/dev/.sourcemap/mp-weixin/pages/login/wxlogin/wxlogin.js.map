{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/yuntaixin/销售/pages/login/wxlogin/wxlogin.vue?f8cd","webpack:///D:/yuntaixin/销售/pages/login/wxlogin/wxlogin.vue?16c6","webpack:///D:/yuntaixin/销售/pages/login/wxlogin/wxlogin.vue?f190","uni-app:///pages/login/wxlogin/wxlogin.vue","webpack:///D:/yuntaixin/销售/pages/login/wxlogin/wxlogin.vue?e961","webpack:///D:/yuntaixin/销售/pages/login/wxlogin/wxlogin.vue?4c57"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","show","showLoginBack","showRegister","encryptedData","iv","userInfo","sessionKey","openId","onLoad","methods","judgeIslogin","uni","success","code","productNo","console","loginBack","res","title","mask","duration","delta","beforePage","icon","tophonelogin","url","getUserProfile","desc","fail","register1","nickName","gender","avatarUrl","phone","province","city","companyId","saleUserId","userId","onGetPhoneNumber"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACc;;;AAGpE;AACoL;AACpL,gBAAgB,2LAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAyrB,CAAgB,urBAAG,EAAC,C;;;;;;;;;;;;;;;;;;ACqC7sB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MAAA;MACAC;QACAC;UACA;YACAC;YACAC;UACA;YACA;cACAC;cACA;cACA;YACA;cACAA;cACA;cACA;YACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACAL;QACAC;UACA;YACAC;YACAC;UACA;YACA;cACAH;cACAI;cACAJ;cACA;gBACAI;gBACA;kBACAE;kBACAN;kBACA;kBACA;kBACAI;kBACAJ;oBACAO;oBACAC;oBACAC;oBACAR;sBACAD;wBACAU;wBACAT;0BACAU;wBACA;sBACA;oBACA;kBACA;gBACA;cAEA,EACA;YAGA;cACAX;cACAA;gBACAY;gBACAL;gBACAE;cACA;YACA;UACA;QACA;MACA;IAEA;IACAI;MACAb;QACAc;MACA;IACA;IACA;IACAC;MAAA;MACA;MACAf;QACAgB;QACAf;UACAG;UACA;UACAJ;YACAQ;YACAD;UACA;UACA;QACA;QACAU;UACAjB;YACAY;YACAL;YACAE;UACA;UACAL;QACA;MACA;IACA;IACA;IACAc;MAAA;MACAlB;QACAC;UACA;YACAC;YACAiB;YACAC;YACAC;YACAC;YACAnB;YACAoB;YACAC;YACAC;YACAC;UACA;YACA;cACA1B;gBACAO;gBACAC;gBACAC;gBACAR;kBACAD;oBACAC;sBACA;wBACAC;wBACAC;sBACA;wBACA;0BACAH;0BACAA;0BACA;4BACAI;4BACA;8BACAE;8BACAN;8BACA;gCACA;kCACAyB;kCACAE;gCACA;kCACArB,gBACA;oCACA;oCACA;oCACAN;sCACAO;sCACAC;sCACAC;sCACAR;wCACAD;0CACAU;0CACAT;4CACAU;0CACA;wCACA;sCACA;oCACA;kCACA,MACAX;gCACA;8BACA;gCACA;kCACA0B;kCACAC;gCACA;kCACArB,gBACA;oCACA;oCACA;oCACAN;sCACAO;sCACAC;sCACAC;sCACAR;wCACAD;0CACAU;0CACAT;4CACAU;0CACA;wCACA;sCACA;oCACA;kCACA,MACAX;gCACA;8BACA;gCACA;gCACA;gCACAA;kCACAO;kCACAC;kCACAC;kCACAR;oCACAD;sCACAU;sCACAT;wCACAU;sCACA;oCACA;kCACA;gCACA;8BACA;4BAEA;0BAEA,EACA;wBAGA;0BACAX;0BACAA;4BACAY;4BACAL;4BACAE;0BACA;wBACA;sBACA;oBACA;kBACA;gBACA;cACA;YACA;cACAT;gBACAY;gBACAL;gBACAE;cACA;YACA;UACA;QACA;MACA;IACA;IACAmB;MAAA;MACA;QACA;QACA;QACA;QACA5B;UACAC;YACA;cACAC;cACAC;YACA;cACA;cACA;gBACAX;gBACAC;gBACAU;gBACAR;cACA;gBACAK;gBACA;cACA;YACA;UACA;QACA;MACA;QACA;QACA;QACAA;UACAY;UACAL;UACAE;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACrUA;AAAA;AAAA;AAAA;AAAwwC,CAAgB,+rCAAG,EAAC,C;;;;;;;;;;;ACA5xC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/login/wxlogin/wxlogin.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/login/wxlogin/wxlogin.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./wxlogin.vue?vue&type=template&id=17fc0072&\"\nvar renderjs\nimport script from \"./wxlogin.vue?vue&type=script&lang=js&\"\nexport * from \"./wxlogin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./wxlogin.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/wxlogin/wxlogin.vue\"\nexport default component.exports","export * from \"-!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxlogin.vue?vue&type=template&id=17fc0072&\"","var components\ntry {\n  components = {\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxlogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxlogin.vue?vue&type=script&lang=js&\"","<template>\n\t<view style=\"display: flex;flex-direction: column;align-items: center;\">\r\n\t\t<image src=\"../../../static/xxx.png\" style=\"width: 750rpx;height: 750rpx;margin-top: 150rpx;margin-bottom: 80rpx;\" mode=\"\"></image>\r\n\t\t<view class=\"\" style=\"margin-bottom: 100rpx;font-size: 36rpx;\nfont-family: PingFangTC-Semibold, PingFangTC;\nfont-weight: 600;\ncolor: #678AFE;\">\r\n\t\t\t属于每一位销售者自己的管理工具\r\n\t\t</view>\r\n\t\t<button class=\"login_btn\" @click=\"loginBack\" v-show=\"showLoginBack\">微信登录</button>\r\n\t\t<button class=\"login_btn\" open-type=\"getPhoneNumber\" v-show=\"showRegister\"  @getphonenumber=\"onGetPhoneNumber\">微信登录</button>\r\n\t\t<view class=\"center\" @click=\"tophonelogin\" style=\"\r\n\t\twidth: 690rpx;\r\n\t\theight: 90rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-family: PingFangSC-Regular, PingFang SC;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #FFFFFF;\r\n\t\tline-height: 42rpx;\r\n\t\tbackground: #678AFE;\r\n\t\tborder-radius: 8rpx;\">\r\n\t\t\t账号登录\r\n\t\t</view>\r\n\t\t<!-- 登录的弹框 -->\r\n\t\t<u-popup :show=\"show\" mode=\"center\" :round=\"15\" >\r\n\t\t\t<view class=\"popup\">\r\n\t\t\t\t<view class=\"popup_top\">请授权登录</view>\r\n\t\t\t\t<view class=\"popup_center\">请同意微信官方授权（获取你的昵称、头像、地区及性别）</view>\r\n\t\t\t\t<!-- <view class=\"popup_btn\">同意</view> -->\r\n\t\t\t\t<button class=\"login_btn1\" open-type=\"getUserProfile\" @click=\"getUserProfile\">同意</button>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t\t\n\t</view>\n</template>\n\n<script>\r\n\timport {register1,login,getSessionKey,decodePhone,getUserMsg,toBeCompanySale,\r\ntobeSecondSale} from '@/common/request.js'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\tshow:false,\r\n\t\t\t\tshowLoginBack: false,\r\n\t\t\t\tshowRegister: false,\r\n\t\t\t\tencryptedData: '',\r\n\t\t\t\tiv: '',\r\n\t\t\t\tuserInfo: '',\r\n\t\t\t\tsessionKey: '',\r\n\t\t\t\topenId: ''\n\t\t\t};\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.judgeIslogin()\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tjudgeIslogin() {\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tlogin({\r\n\t\t\t\t\t\t\tcode: res.code,\r\n\t\t\t\t\t\t\tproductNo:'100'\r\n\t\t\t\t\t\t}).then(res2 => {\r\n\t\t\t\t\t\t\tif (res2.code == 0) {\r\n\t\t\t\t\t\t\t\tconsole.log('已注册');\r\n\t\t\t\t\t\t\t\tthis.showRegister = false;\r\n\t\t\t\t\t\t\t\tthis.showLoginBack = true;\r\n\t\t\t\t\t\t\t} else if (res2.code == 5) {\r\n\t\t\t\t\t\t\t\tconsole.log('未注册');\r\n\t\t\t\t\t\t\t\tthis.showRegister = true;\r\n\t\t\t\t\t\t\t\tthis.showLoginBack = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tloginBack() {\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tlogin({\r\n\t\t\t\t\t\t\tcode: res.code,\r\n\t\t\t\t\t\t\tproductNo:'100',\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('token', res.data.token);\r\n\t\t\t\t\t\t\t\tconsole.log(JSON.parse(this.Base64.decode(uni.getStorageSync('token').split('.')[1])).userId)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('userId',JSON.parse(this.Base64.decode(uni.getStorageSync('token').split('.')[1])).userId)\r\n\t\t\t\t\t\t\t\tgetUserMsg(uni.getStorageSync('userId')).then(res=>{\r\n\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\tif(res.data){\r\n\t\t\t\t\t\t\t\t\tres.data.headLogo = this.$img+res.data.headLogo\r\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('userInfo', res.data);\r\n\t\t\t\t\t\t\t\t\t\tlet pages = getCurrentPages(); // 当前页面\r\n\t\t\t\t\t\t\t\t\t\tlet beforePage = pages[pages.length - 2];\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(beforePage)\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '登录成功',\r\n\t\t\t\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdelta:1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbeforePage.onLoad(); // 执行前一个页面的onLoad方法\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('isLogin', false);\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\ttophonelogin(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'/pages/login/login'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 用户同意授权获取头像的那个信息\r\n\t\t\tgetUserProfile() {\r\n\t\t\t\tthis.show = false;\r\n\t\t\t\tuni.getUserProfile({\r\n\t\t\t\t\tdesc: '登录',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tthis.userInfo = res.userInfo;\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\ttitle: '正在登录...'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.register1(this.userInfo.nickName, this.userInfo.gender, this.userInfo.avatarUrl,this.userInfo.city,this.userInfo.province);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: '未绑定相关信息',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 注册用户\r\n\t\t\tregister1(nickName, gender, avatarUrl,city,province) {\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tregister1({\r\n\t\t\t\t\t\t\tcode: res.code,\r\n\t\t\t\t\t\t\tnickName: nickName,\r\n\t\t\t\t\t\t\tgender: gender,\r\n\t\t\t\t\t\t\tavatarUrl: avatarUrl,\r\n\t\t\t\t\t\t\tphone: uni.getStorageSync('phone'),\r\n\t\t\t\t\t\t\tproductNo:'100',\r\n\t\t\t\t\t\t\tprovince:province,\r\n\t\t\t\t\t\t\tcity:city,\r\n\t\t\t\t\t\t\tcompanyId:uni.getStorageSync('needCompanyId') ? uni.getStorageSync('needCompanyId') : null,\r\n\t\t\t\t\t\t\tsaleUserId:uni.getStorageSync('needSaleUserId') ? uni.getStorageSync('needSaleUserId') : null\r\n\t\t\t\t\t\t}).then(res2 => {\r\n\t\t\t\t\t\t\tif (res2.code == 0) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '注册成功',\r\n\t\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\tuni.login({\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlogin({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcode: res.code,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tproductNo:'100'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('token', res.data.token);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('userId',JSON.parse(this.Base64.decode(uni.getStorageSync('token').split('.')[1])).userId)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetUserMsg(uni.getStorageSync('userId')).then(res=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(res.data){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.data.headLogo = this.$img+res.data.headLogo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('userInfo', res.data);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(uni.getStorageSync('needCompanyId')){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoBeCompanySale({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcompanyId:uni.getStorageSync('needCompanyId'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuserId:uni.getStorageSync('userId'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.code == 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t ? (()=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet pages = getCurrentPages(); // 当前页面\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet beforePage = pages[pages.length - 2];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '登录成功',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelta:1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbeforePage.onLoad(); // 执行前一个页面的onLoad方法\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t })()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t :  uni.$u.toast(res.msg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else if(uni.getStorageSync('needSaleUserId')){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttobeSecondSale({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsaleUserId:uni.getStorageSync('needCompanyId'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuserId:uni.getStorageSync('userId'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.code == 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t ? (()=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet pages = getCurrentPages(); // 当前页面\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet beforePage = pages[pages.length - 2];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '登录成功',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelta:1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbeforePage.onLoad(); // 执行前一个页面的onLoad方法\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t })()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t :  uni.$u.toast(res.msg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet pages = getCurrentPages(); // 当前页面\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlet beforePage = pages[pages.length - 2];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '登录成功',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelta:1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbeforePage.onLoad(); // 执行前一个页面的onLoad方法\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('isLogin', false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\ttitle: res2.msg,\r\n\t\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonGetPhoneNumber(e) {\r\n\t\t\t\tif (e.detail.encryptedData && e.detail.iv) {\r\n\t\t\t\t\t//允许授权\r\n\t\t\t\t\tthis.encryptedData = e.detail.encryptedData;\r\n\t\t\t\t\tthis.iv = e.detail.iv;\r\n\t\t\t\t\tuni.login({\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tgetSessionKey({\r\n\t\t\t\t\t\t\t\tcode: res.code,\r\n\t\t\t\t\t\t\t\tproductNo:'100',\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tthis.sessionKey = res.data.sessionKey;\r\n\t\t\t\t\t\t\t\tdecodePhone({\r\n\t\t\t\t\t\t\t\t\tencryptedData: this.encryptedData,\r\n\t\t\t\t\t\t\t\t\tiv: this.iv,\r\n\t\t\t\t\t\t\t\t\tproductNo:'101',\r\n\t\t\t\t\t\t\t\t\tsessionKey: this.sessionKey\r\n\t\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\t\tuni.setStorageSync('phone', res.data.phone);\r\n\t\t\t\t\t\t\t\t\tthis.show = true;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//用户决绝授权\r\n\t\t\t\t\t//拒绝授权后弹出一些提示\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\ttitle: '请绑定手机号',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\">\r\n.login_btn {\r\n\t\twidth: 690rpx;\r\n\t\theight: 90rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-family: PingFangSC-Regular, PingFang SC;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #FFFFFF;\r\n\t\tdisplay: flex;justify-content: center;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 50rpx;\r\n\t\tline-height: 42rpx;\r\n\t\tbackground: #678AFE;\r\n\t\tborder-radius: 8rpx;\r\n}\n.login_bottom {\r\n\tdisplay: flex;\r\n\twidth: 100%;\r\n\tposition: fixed;\r\n\tbottom: 100rpx;\r\n\tleft: 50%;\r\n\tjustify-content: center;\r\n\ttransform: translateX(-50%);\r\n\tfont-size: 0.86rem;\r\n\tfont-weight: 400;\r\n\tcolor: #a6a6a6;\r\n}\r\n.popup_top {\r\n\ttext-align: center;\r\n\tpadding-top: 44rpx;\r\n\tfont-size: 36rpx;\r\n\tfont-family: PingFang-SC-Medium, PingFang-SC;\r\n\tfont-weight: 500;\r\n\tcolor: #232323;\r\n\tline-height: 50rpx;\r\n}\r\n.login_btn1 {\r\n\twidth: 80%;\r\n\tmargin-top: 80rpx;\r\n\tbackground: #4a90e2;\r\n\tborder-radius: 46rpx;\r\n\tfont-size: 28rpx;\r\n\tfont-family: PingFang-SC-Regular, PingFang-SC;\r\n\tfont-weight: 400;\r\n\tcolor: #ffffff;\r\n}\r\n.popup_center {\r\n\tpadding: 60rpx 70rpx 50rpx 70rpx;\r\n\tfont-size: 28rpx;\r\n\tfont-family: PingFang-SC-Regular, PingFang-SC;\r\n\tfont-weight: 400;\r\n\tcolor: #000000;\r\n\tline-height: 40rpx;\r\n}\r\n\r\n.popup_btn {\r\n\twidth: 80%;\r\n\theight: 72rpx;\r\n\tbackground: #4a90e2;\r\n\tborder-radius: 36rpx;\r\n\tfont-size: 28rpx;\r\n\tfont-family: PingFang-SC-Medium, PingFang-SC;\r\n\tfont-weight: 500;\r\n\tcolor: #ffffff;\r\n\tline-height: 72rpx;\r\n\ttext-align: center;\r\n\tmargin: 0 auto;\r\n}\r\n\r\n.popup {\r\n\tpadding-bottom: 50rpx;\r\n}\n</style>\n","import mod from \"-!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxlogin.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wxlogin.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1684996416820\n      var cssReload = require(\"D:/Porgram Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}